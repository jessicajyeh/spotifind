<!DOCTYPE html>
<html>
<head>
	<title>asdf</title>
	<script>
	  var app = angular.module('myApp', ['ngMap']);

	  app.controller('mapController', function($http, $interval, NgMap) {
	    var vm = this;
	    vm.dynMarkers = [];
	    NgMap.getMap().then(function(map) {
	      for (var i=0; i<1000; i++) {
	        var latLng = new google.maps.LatLng(markers[i].position[0], markers[i].position[1]);
	        vm.dynMarkers.push(new google.maps.Marker({position:latLng}));
	      }
	      vm.markerClusterer = new MarkerClusterer(map, vm.dynMarkers, {});
	    });
	  });
  </script>
  <style>
    map, div[map] {display:block; width:600px; height:400px;}
  </style>
</head>
<body>
	<map />
</body>
</html>